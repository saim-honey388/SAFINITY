<BoxLayout>:
    orientation: 'vertical'
    padding: dp(20)
    spacing: dp(20)
    
    MDLabel:
        text: 'Bluetooth Connection'
        font_style: 'H5'
        halign: 'center'
        size_hint_y: None
        height: dp(50)
        theme_text_color: 'Primary'
    
    MDLabel:
        text: root.connection_status
        halign: 'center'
        size_hint_y: None
        height: dp(30)
        theme_text_color: 'Secondary'
    
    MDLabel:
        text: root.message_text
        halign: 'center'
        size_hint_y: None
        height: dp(50)
        theme_text_color: 'Primary'
    
    MDRaisedButton:
        text: 'Connect to ESP32'
        pos_hint: {'center_x': .5}
        on_release: root.connect_to_esp32()
        md_bg_color: [0.223, 0.510, 0.478, 1] if root.connection_status == 'Disconnected' else [0.8, 0.2, 0.2, 1]
        text: 'Connect to ESP32' if root.connection_status == 'Disconnected' else 'Disconnect'
        on_release: root.connect_to_esp32() if root.connection_status == 'Disconnected' else root.disconnect()