#:kivy 2.1.0

<InfoMainScreen>:
    screen_manager: info_screen_manager
    BoxLayout:
        orientation: "vertical"
        InfoScreenManager:
            id: info_screen_manager
            InfoStep1Screen:
                name: "info_step1"
            InfoStep2Screen:
                name: "info_step2"
            InfoStep3Screen:
                name: "info_step3"
            InfoStep4Screen:
                name: "info_step4"

<InfoBaseScreen>:
    canvas.before:
        Color:
            rgba: 0.95, 0.95, 0.95, 1  # Light gray background
        Rectangle:
            pos: self.pos
            size: self.size
    
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(20)
        
        # App logo
        Image:
            source: "assets/logo.png"  # Path to the logo image
            size_hint: None, None
            size: dp(100), dp(100)
            pos_hint: {"center_x": 0.5}
        
        # App name
        Label:
            text: "SAFINITY"
            font_size: dp(24)
            bold: True
            color: 0.1, 0.1, 0.1, 1
            size_hint_y: None
            height: dp(40)
            halign: "center"
        
        # Content area - to be overridden by specific screens
        BoxLayout:
            orientation: "vertical"
            size_hint_y: 0.6
            
        # Navigation area
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(60)
            padding: [dp(10), 0]
            spacing: dp(10)
            
            # Add widgets in child classes

<InfoStep1Screen>:
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(20)
        
        # App logo
        Image:
            source: "assets/logo.png"  # Path to the logo image
            size_hint: None, None
            size: dp(100), dp(100)
            pos_hint: {"center_x": 0.5}
        
        # App name
        Label:
            text: "SAFINITY"
            font_size: dp(24)
            bold: True
            color: 0.1, 0.1, 0.1, 1
            size_hint_y: None
            height: dp(40)
            halign: "center"
        
        # Step title
        Label:
            text: "Step 1: Create an Account"
            font_size: dp(20)
            bold: True
            color: 0.1, 0.4, 0.1, 1  # Dark green color
            size_hint_y: None
            height: dp(40)
            halign: "center"
        
        # Description
        Label:
            text: "Sign up or log in to manage emergency contacts and device settings."
            font_size: dp(16)
            color: 0.1, 0.3, 0.1, 1  # Dark green color
            text_size: self.width, None
            halign: "center"
            valign: "top"
            size_hint_y: None
            height: dp(80)
        
        # Spacer
        Widget:
            size_hint_y: 0.4
        
        # Navigation
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(60)
            padding: [dp(10), 0]
            spacing: dp(10)
            
            Widget:
                size_hint_x: 0.5
            
            # Next button (arrow)
            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"right": 1}
                background_color: 0, 0, 0, 0  # Transparent background
                on_release: root.on_next()
                
                Image:
                    source: "assets/front_arrow.png"
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: self.parent.size

<InfoStep2Screen>:
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(20)
        
        # App logo
        Image:
            source: "assets/logo.png"  # Path to the logo image
            size_hint: None, None
            size: dp(100), dp(100)
            pos_hint: {"center_x": 0.5}
        
        # App name
        Label:
            text: "SAFINITY"
            font_size: dp(24)
            bold: True
            color: 0.1, 0.1, 0.1, 1
            size_hint_y: None
            height: dp(40)
            halign: "center"
        
        # Step title
        Label:
            text: "Step 2: Connect to Device"
            font_size: dp(20)
            bold: True
            color: 0.1, 0.4, 0.1, 1  # Dark green color
            size_hint_y: None
            height: dp(40)
            halign: "center"
        
        # Description
        Label:
            text: "Enable Bluetooth and pair the app with the System."
            font_size: dp(16)
            color: 0.1, 0.3, 0.1, 1  # Dark green color
            text_size: self.width, None
            halign: "center"
            valign: "top"
            size_hint_y: None
            height: dp(80)
        
        # Spacer
        Widget:
            size_hint_y: 0.4
        
        # Navigation
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(60)
            padding: [dp(10), 0]
            spacing: dp(10)
            
            # Previous button (arrow)
            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                background_color: 0, 0, 0, 0  # Transparent background
                on_release: root.on_previous()
                
                Image:
                    source: "assets/back_arrow.jpg"
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: self.parent.size
            
            Widget:
                size_hint_x: 1
            
            # Next button (arrow)
            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                background_color: 0, 0, 0, 0  # Transparent background
                on_release: root.on_next()
                
                Image:
                    source: "assets/front_arrow.png"
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: self.parent.size

<InfoStep3Screen>:
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(20)
        
        # App logo
        Image:
            source: "assets/logo.png"  # Path to the logo image
            size_hint: None, None
            size: dp(100), dp(100)
            pos_hint: {"center_x": 0.5}
        
        # App name
        Label:
            text: "SAFINITY"
            font_size: dp(24)
            bold: True
            color: 0.1, 0.1, 0.1, 1
            size_hint_y: None
            height: dp(40)
            halign: "center"
        
        # Step title
        Label:
            text: "Step 3: Alert"
            font_size: dp(20)
            bold: True
            color: 0.1, 0.4, 0.1, 1  # Dark green color
            size_hint_y: None
            height: dp(40)
            halign: "center"
        
        # Description
        Label:
            text: "Press the button on the System to trigger an emergency alert."
            font_size: dp(16)
            color: 0.1, 0.3, 0.1, 1  # Dark green color
            text_size: self.width, None
            halign: "center"
            valign: "top"
            size_hint_y: None
            height: dp(80)
        
        # Spacer
        Widget:
            size_hint_y: 0.4
        
        # Navigation
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(60)
            padding: [dp(10), 0]
            spacing: dp(10)
            
            # Previous button (arrow)
            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                background_color: 0, 0, 0, 0  # Transparent background
                on_release: root.on_previous()
                
                Image:
                    source: "assets/back_arrow.jpg"
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: self.parent.size
            
            Widget:
                size_hint_x: 1
            
            # Next button (arrow)
            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                background_color: 0, 0, 0, 0  # Transparent background
                on_release: root.on_next()
                
                Image:
                    source: "assets/front_arrow.png"
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: self.parent.size

<InfoStep4Screen>:
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(20)
        
        # App logo
        Image:
            source: "assets/logo.png"  # Path to the logo image
            size_hint: None, None
            size: dp(100), dp(100)
            pos_hint: {"center_x": 0.5}
        
        # App name
        Label:
            text: "SAFINITY"
            font_size: dp(24)
            bold: True
            color: 0.1, 0.1, 0.1, 1
            size_hint_y: None
            height: dp(40)
            halign: "center"
        
        # Step title
        Label:
            text: "Step 4: Location Sharing & Alerts"
            font_size: dp(20)
            bold: True
            color: 0.1, 0.4, 0.1, 1  # Dark green color
            size_hint_y: None
            height: dp(40)
            halign: "center"
        
        # Description
        Label:
            text: "The app fetches GPS data and notifies emergency contacts via SMS."
            font_size: dp(16)
            color: 0.1, 0.3, 0.1, 1  # Dark green color
            text_size: self.width, None
            halign: "center"
            valign: "top"
            size_hint_y: None
            height: dp(80)
        
        # Spacer
        Widget:
            size_hint_y: 0.3
        
        # Navigation
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(60)
            padding: [dp(10), 0]
            spacing: dp(10)
            
            # Previous button (arrow)
            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                background_color: 0, 0, 0, 0  # Transparent background
                on_release: root.on_previous()
                
                Image:
                    source: "assets/back_arrow.jpg"
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: self.parent.size
            
            Widget:
                size_hint_x: 0.7
            
            # Home button
            Button:
                text: "Back to Home"
                font_size: dp(16)
                size_hint: None, None
                size: dp(150), dp(50)
                background_color: 0.1, 0.4, 0.1, 1  # Dark green color
                color: 1, 1, 1, 1  # White text
                on_release: root.go_home()
