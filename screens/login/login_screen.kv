#:kivy 2.2.1

<LoginScreen>:
    name: 'login'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White background
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: '20dp'
        spacing: '10dp'

        # Logo and Title Section
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: 0.35
            spacing: dp(10)
            
            AsyncImage:
                source: 'Safinity/assets/logo.png'
                size_hint: None, None
                size: dp(100), dp(100)
                pos_hint: {'center_x': 0.5}
                allow_stretch: True
                keep_ratio: True
                on_error: self.source = ''  # Clear source on error

            Label:
                text: 'Safinity'
                font_size: '32sp'
                bold: True
                color: 0, 0, 0, 1  # Black text
                size_hint_y: None
                height: '50dp'
                pos_hint: {'center_x': 0.5}

        Widget:
            size_hint_y: 0.25

        # Input Fields Section
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: '120dp'
            spacing: '20dp'
            pos_hint: {'center_x': 0.5}

            TextInput:
                id: email_phone_input
                hint_text: 'Email or Phone Number'
                multiline: False
                size_hint_y: None
                height: '40dp'
                background_normal: ''
                background_active: ''
                background_color: (0, 0, 0, 0)
                hint_text_color: (0, 0, 0, 0.5)
                foreground_color: (0, 0, 0, 1)
                cursor_color: (0, 0, 0, 1)
                padding: [10, 10, 10, 0]
                font_size: '16sp'
                write_tab: False
                canvas.after:
                    Color:
                        rgba: (0.223, 0.510, 0.478, 1)
                    Line:
                        points: self.x, self.y, self.x + self.width, self.y
                        width: 1

            TextInput:
                id: password_input
                hint_text: 'Password'
                password: True
                multiline: False
                size_hint_y: None
                height: '40dp'
                background_normal: ''
                background_active: ''
                background_color: (0, 0, 0, 0)
                hint_text_color: (0, 0, 0, 0.5)
                foreground_color: (0, 0, 0, 1)
                cursor_color: (0, 0, 0, 1)
                padding: [10, 10, 10, 0]
                font_size: '16sp'
                write_tab: False
                canvas.after:
                    Color:
                        rgba: (0.223, 0.510, 0.478, 1)
                    Line:
                        points: self.x, self.y, self.x + self.width, self.y
                        width: 1

        Widget:
            size_hint_y: 0.05

        # Buttons Section
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: '120dp'
            spacing: '20dp'
            padding: [0, 0]

            Button:
                text: 'Login'
                size_hint: None, None
                size: dp(200), dp(50)
                pos_hint: {'center_x': 0.5}
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                font_size: '16sp'
                canvas.before:
                    Color:
                        rgba: (0.223, 0.510, 0.478, 1)
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [25]
                on_release: root.login()

            Button:
                text: "Don't have an account? Sign Up"
                size_hint: None, None
                size: dp(200), dp(50)
                pos_hint: {'center_x': 0.5}
                background_color: 0, 0, 0, 0
                color: (0.223, 0.510, 0.478, 1)
                font_size: '16sp'
                canvas.before:
                    Color:
                        rgba: (0,0,0,0)
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [25]
                on_release: root.go_to_signup()

        Widget:
            size_hint_y: 0.15 